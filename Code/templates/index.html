<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Floorplan to 3D | AI Converter</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="/static/style.css" />
  </head>
  <body>
    <header>
      <h1>ğŸ  Floorplan to 3D</h1>
      <p class="subtitle">
        Transform your 2D blueprints into interactive 3D models instantly.
      </p>
    </header>

    <div class="main-card">
      <div class="upload-area">
        <label for="fileInput" class="custom-file-upload">
          <span id="fileNameDisplay">ğŸ“‚ Click to Select Floorplan Image</span>
        </label>
        <input type="file" id="fileInput" accept="image/*" />

        <button class="generate-btn" onclick="uploadAndRun()" id="runBtn">
          Generate 3D Model
        </button>
        <div id="statusText">Ready to start.</div>

        <!-- Model Toggle Buttons -->
        <div id="modelControls" style="display: none; margin-top: 10px">
          <button
            class="toggle-btn active"
            onclick="loadModel('noRoof')"
            id="btnNoRoof"
          >
            ğŸ  No Roof
          </button>
          <button
            class="toggle-btn"
            onclick="loadModel('withRoof')"
            id="btnWithRoof"
          >
            ğŸ¡ With Roof
          </button>
        </div>
      </div>

      <div id="container">
        <div class="spinner" id="loadingSpinner"></div>
      </div>

      <div class="instructions">
        Left Click: Rotate â€¢ Right Click: Pan â€¢ Scroll: Zoom
      </div>
    </div>

    <script type="importmap">
      {
        "imports": {
          "three": "https://unpkg.com/three@0.158.0/build/three.module.js",
          "three/addons/": "https://unpkg.com/three@0.158.0/examples/jsm/"
        }
      }
    </script>

    <!-- Load the main JavaScript file -->
    <script type="module" src="/static/app.js"></script>
  </body>
</html>
